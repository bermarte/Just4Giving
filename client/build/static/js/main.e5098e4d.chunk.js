(this.webpackJsonpphht=this.webpackJsonpphht||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(20),c=n.n(a),i=n(11),o=(n(27),n(7)),s=n(8),h=n(10),u=n(9),l=n(2),j=n(21),b=n(1);var d=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={message:"Loading..."},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/home").then((function(e){return e.text()})).then((function(t){return e.setState({message:t})}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)("h1",{children:"Home"}),Object(b.jsx)("p",{className:"par",children:this.state.message})]})}}]),n}(r.Component),p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={message:"Loading..."},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/secret").then((function(e){return e.text()})).then((function(t){return e.setState({message:t})}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Secret"}),Object(b.jsx)("p",{children:this.state.message})]})}}]),n}(r.Component),O=n(14),m=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){var t=e.target,n=t.value,a=t.name;r.setState(Object(O.a)({},a,n))},r.onSubmit=function(e){e.preventDefault(),fetch("/api/authenticate",{method:"POST",body:JSON.stringify(r.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.error);r.props.history.push("/")})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},r.state={email:"",password:""},r}return Object(s.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsx)("h1",{children:"Login Below!"}),Object(b.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),Object(b.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),Object(b.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(r.Component),f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("ul",{className:"list",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/secret",children:"Secret"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/login",children:"Login"})})]}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/",exact:!0,component:d}),Object(b.jsx)(l.b,{path:"/secret",component:(e=p,function(t){Object(h.a)(r,t);var n=Object(u.a)(r);function r(){var e;return Object(o.a)(this,r),(e=n.call(this)).state={loading:!0,redirect:!1},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,n=t.loading,r=t.redirect;return n?null:r?Object(b.jsx)(l.a,{to:"/login"}):Object(b.jsx)(e,Object(j.a)({},this.props))}}]),r}(r.Component))}),Object(b.jsx)(l.b,{path:"/login",component:m})]})]});var e}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(i.a,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.e5098e4d.chunk.js.map